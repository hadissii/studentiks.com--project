<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Studenti-Ks - User</title>
    <link rel="stylesheet" href="user.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    </head>
    <body>
    <div class="page-content">
       <!-- ==================== NAVBAR ==================== -->
        <nav class="nav-container">
  <img src="LogoStudentiks_pabg.png" alt="Logo" class="logo">

 
  

  <div class="nav-links" id="nav-links">
    <a href="index.html"><i class="fa-solid fa-house"></i> Ballina</a>
    <a href="about.html"><i class="fa-solid fa-circle-info"></i> Rreth nesh</a>
    <a href="contact.html"><i class="fa-solid fa-envelope"></i> Kontakti</a>
    <a href="colleges.html"><i class="fa-solid fa-graduation-cap"></i> Fakultetet</a>
  </div>

  <div class="auth-buttons" id="auth-buttons">
    <a href="dashboard.php"><i class="fa-solid fa-user"></i></a>
    <a href="login.html"><button>Login</button></a>
    <a href="register.html"><button>Register</button></a>

    <label class="switch">
      <input type="checkbox" id="theme-toggle">
      <span class="slider"></span>
    </label>
  </div>
   <!-- Hamburger Icon -->
  <div class="hamburger" id="hamburger">
    <div></div>
    <div></div>
    <div></div>
  </div>

  <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobile-menu">
        <div class="mobile-menu-links">
            <a href="index.html">
        <i class="fa-solid fa-house"></i>
        Ballina
    </a>

    <a href="about.html">
        <i class="fa-solid fa-circle-info"></i>
        Rreth nesh
    </a>

    <a href="contact.html">
        <i class="fa-solid fa-envelope"></i>
        Kontakti
    </a>

    <a href="colleges.html">
        <i class="fa-solid fa-graduation-cap"></i>
        Fakultetet
    </a>
        </div>
        <div class="mobile-auth-buttons">
             <a href="dashboard.php"><i class="fa-solid fa-user" id="fa-user"></i></a>
            <a href="login.html"><button id="loginBtn">Login</button></a>
        <a href="register.html"><button id="register-btn">Register</button></a>
        </div>
    </div>
</nav>

    <div class="profile-container">
    <div class="profile-left">
        <img src="USER.png" alt="Profile Photo">
    </div>
<div class="profile-right">
    <h2 id="name">Loading...</h2>

    <p><strong>Email:</strong> <span id="email">Loading...</span></p>

    <p><strong>Phone:</strong> <span id="phone">Loading...</span></p>

    <p>
        <strong>Status:</strong>
        <span class="status admin" id="role">Student</span> 
    </p>
</div>
</div>
<footer>
     © 2025 Studenti-Ks. All rights reserved.
</footer>  
    </div>

   <script>
     // Theme Toggle
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        
        themeToggle.addEventListener('change', function() {
            if (this.checked) {
                body.classList.remove('light');
                body.classList.add('dark');
                localStorage.setItem('theme', 'dark');
            } else {
                body.classList.remove('dark');
                body.classList.add('light');
                localStorage.setItem('theme', 'light');
            }
        });
        
        // Check saved theme
        const savedTheme = localStorage.getItem('theme') || 'light';
        if (savedTheme === 'dark') {
            body.classList.remove('light');
            body.classList.add('dark');
            themeToggle.checked = true;
        }
        
        // Mobile Menu Toggle
        const hamburger = document.getElementById('hamburger');
        const mobileMenu = document.getElementById('mobile-menu');
        
        hamburger.addEventListener('click', function() {
            hamburger.classList.toggle('active');
            mobileMenu.classList.toggle('active');
        });
        
        // Close mobile menu when clicking links
        mobileMenu.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', () => {
                hamburger.classList.remove('active');
                mobileMenu.classList.remove('active');
            });
        });
    </script>
    <script>
        const switch2 = document.getElementById('switch');

switch2.addEventListener("click", () => {
    document.body.classList.toggle("dark");
});
    
    </script>
    <script>
document.addEventListener("DOMContentLoaded", () => {
    fetch("get_user.php")
        .then(res => res.json())
        .then(data => {
            if (data.status === "success") {
                // Display user data
                const nameElement = document.getElementById("name");
                const emailElement = document.getElementById("email");
                const phoneElement = document.getElementById("phone");
                const roleElement = document.getElementById("role");
                
                if (nameElement) nameElement.textContent = data.name ? data.name.toUpperCase() : "User";
                if (emailElement) emailElement.textContent = data.email || "Nuk ka të dhëna";
                if (phoneElement) phoneElement.textContent = data.phone || "Nuk ka të dhëna";
                if (roleElement) roleElement.textContent = data.role || "Student";
            } else {
                window.location.href = "login.html"; 
            }
        })
        .catch(err => {
            console.error("Error fetching user data:", err);
            window.location.href = "login.html";
        });
});
</script>

</body>

</html>